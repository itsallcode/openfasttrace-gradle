plugins {
    id "base"
    id 'org.itsallcode.openfasttrace' version '4.1.0'
}


requirementTracing {
    failBuild = false
    if (project.hasProperty('oftSourceDir')) {
        oftSourceDir = file(project.oftSourceDir)
        if (!oftSourceDir.exists()) {
            logger.warn "OFT source directory $oftSourceDir does not exist"
        }
        inputDirectories = files(project.fileTree(dir:oftSourceDir).matching {
            include "doc/**"
            include "api/src/main/**"
            include "api/src/test/**"
            include "core/src/main/**"
            include "core/src/test/java/**"
            include "exporter/**/src/main/**"
            include "exporter/**/src/test/**"
            include "importer/**/src/main/**"
            include "importer/**/src/test/**"
            include "reporter/**/src/main/**"
            include "reporter/**/src/test/**"
        })
    } else {
        inputDirectories = files('custom-dir')
    }
    reportFormat = 'ux'
}
